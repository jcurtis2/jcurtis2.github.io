<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>PartMC: pmc_mosaic Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PartMC
   &#160;<span id="projectnumber">2.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Types</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="modulepmc__mosaic-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pmc_mosaic Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface to the MOSAIC aerosol and gas phase chemistry code.  
 <a href="classpmc__mosaic.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a22592fd57cef945bbb2ef2e49bc0f05c"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a22592fd57cef945bbb2ef2e49bc0f05c">mosaic_support</a> ()</td></tr>
<tr class="memdesc:a22592fd57cef945bbb2ef2e49bc0f05c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether MOSAIC support is compiled in.  <a href="#a22592fd57cef945bbb2ef2e49bc0f05c">More...</a><br /></td></tr>
<tr class="separator:a22592fd57cef945bbb2ef2e49bc0f05c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cdd76ef5164c35b7fe46b4fe3c2b044"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a1cdd76ef5164c35b7fe46b4fe3c2b044">mosaic_init</a> (env_state, aero_data, del_t, do_optical)</td></tr>
<tr class="memdesc:a1cdd76ef5164c35b7fe46b4fe3c2b044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all MOSAIC data-structures.  <a href="#a1cdd76ef5164c35b7fe46b4fe3c2b044">More...</a><br /></td></tr>
<tr class="separator:a1cdd76ef5164c35b7fe46b4fe3c2b044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0165a7096d2674446d32c4ad0193eca0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a0165a7096d2674446d32c4ad0193eca0">mosaic_cleanup</a> ()</td></tr>
<tr class="memdesc:a0165a7096d2674446d32c4ad0193eca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean-up after running MOSAIC, deallocating memory.  <a href="#a0165a7096d2674446d32c4ad0193eca0">More...</a><br /></td></tr>
<tr class="separator:a0165a7096d2674446d32c4ad0193eca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4a894b5b6a349f83df026675a64940"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a2f4a894b5b6a349f83df026675a64940">mosaic_from_partmc</a> (env_state, aero_data, aero_state, gas_data, gas_state)</td></tr>
<tr class="memdesc:a2f4a894b5b6a349f83df026675a64940"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map all data PartMC -&gt; MOSAIC.  <a href="#a2f4a894b5b6a349f83df026675a64940">More...</a><br /></td></tr>
<tr class="separator:a2f4a894b5b6a349f83df026675a64940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b93b04307f0290a3ccf15d4453c473"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#aa1b93b04307f0290a3ccf15d4453c473">mosaic_to_partmc</a> (env_state, aero_data, aero_state, gas_data, gas_state)</td></tr>
<tr class="memdesc:aa1b93b04307f0290a3ccf15d4453c473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map all data MOSAIC -&gt; PartMC.  <a href="#aa1b93b04307f0290a3ccf15d4453c473">More...</a><br /></td></tr>
<tr class="separator:aa1b93b04307f0290a3ccf15d4453c473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1b2f55bf5d07b18be883ad7163d44d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a6a1b2f55bf5d07b18be883ad7163d44d">mosaic_timestep</a> (env_state, aero_data, aero_state, gas_data, gas_state, do_optical)</td></tr>
<tr class="memdesc:a6a1b2f55bf5d07b18be883ad7163d44d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do one timestep with MOSAIC.  <a href="#a6a1b2f55bf5d07b18be883ad7163d44d">More...</a><br /></td></tr>
<tr class="separator:a6a1b2f55bf5d07b18be883ad7163d44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a35578a797d028e4b5ee2287400a32"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmc__mosaic.html#a61a35578a797d028e4b5ee2287400a32">mosaic_aero_optical</a> (env_state, aero_data, aero_state, gas_data, gas_state)</td></tr>
<tr class="memdesc:a61a35578a797d028e4b5ee2287400a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the optical properties of each aerosol particle. FIXME: currently disabled.  <a href="#a61a35578a797d028e4b5ee2287400a32">More...</a><br /></td></tr>
<tr class="separator:a61a35578a797d028e4b5ee2287400a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to the MOSAIC aerosol and gas phase chemistry code. </p>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00009">9</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="a61a35578a797d028e4b5ee2287400a32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_aero_optical </td>
          <td>(</td>
          <td class="paramtype">type(env_state_t), intent(in)&#160;</td>
          <td class="paramname"><em>env_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>aero_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_state_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the optical properties of each aerosol particle. FIXME: currently disabled. </p>
<p>At the moment we are computing the aerosol optical properties every timestep from withing mosaic_timestep. This decision should be re-evaluated at some point in the future.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env_state</td><td>Environment state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_data</td><td>Aerosol data.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">aero_state</td><td>Aerosol state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_data</td><td>Gas data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_state</td><td>Gas state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00430">430</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="a0165a7096d2674446d32c4ad0193eca0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean-up after running MOSAIC, deallocating memory. </p>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00129">129</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="a2f4a894b5b6a349f83df026675a64940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_from_partmc </td>
          <td>(</td>
          <td class="paramtype">type(env_state_t), intent(in)&#160;</td>
          <td class="paramname"><em>env_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_state_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_state_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map all data PartMC -&gt; MOSAIC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env_state</td><td>Environment state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_data</td><td>Aerosol data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_state</td><td>Aerosol state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_data</td><td>Gas data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_state</td><td>Gas state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00146">146</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="a1cdd76ef5164c35b7fe46b4fe3c2b044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_init </td>
          <td>(</td>
          <td class="paramtype">type(env_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>env_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=dp), intent(in)&#160;</td>
          <td class="paramname"><em>del_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>do_optical</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize all MOSAIC data-structures. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">env_state</td><td>Environment state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_data</td><td>Aerosol data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">del_t</td><td>Timestep for coagulation.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">do_optical</td><td>Whether to compute optical properties. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00037">37</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="a22592fd57cef945bbb2ef2e49bc0f05c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logical function pmc_mosaic::mosaic_support </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether MOSAIC support is compiled in. </p>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00024">24</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="a6a1b2f55bf5d07b18be883ad7163d44d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_timestep </td>
          <td>(</td>
          <td class="paramtype">type(env_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>env_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>aero_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>gas_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>do_optical</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do one timestep with MOSAIC. </p>
<p>We currently also compute aerosol optical properties within this subroutine. In principle this could be done at data analysis time, rather than inside the timestepper. It's not clear if this really matters, however. Because of this <a class="el" href="classpmc__mosaic.html#a61a35578a797d028e4b5ee2287400a32" title="Compute the optical properties of each aerosol particle. FIXME: currently disabled. ">mosaic_aero_optical()</a> is currently disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">env_state</td><td>Environment state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_data</td><td>Aerosol data.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">aero_state</td><td>Aerosol state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_data</td><td>Gas data.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">gas_state</td><td>Gas state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">do_optical</td><td>Whether to compute optical properties. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00366">366</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<a class="anchor" id="aa1b93b04307f0290a3ccf15d4453c473"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pmc_mosaic::mosaic_to_partmc </td>
          <td>(</td>
          <td class="paramtype">type(env_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>env_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>aero_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(aero_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>aero_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_data_t), intent(in)&#160;</td>
          <td class="paramname"><em>gas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(gas_state_t), intent(inout)&#160;</td>
          <td class="paramname"><em>gas_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map all data MOSAIC -&gt; PartMC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">env_state</td><td>Environment state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aero_data</td><td>Aerosol data.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">aero_state</td><td>Aerosol state.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gas_data</td><td>Gas data.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">gas_state</td><td>Gas state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mosaic_8_f90_source.html#l00271">271</a> of file <a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a>.</p>

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li><a class="el" href="mosaic_8_f90_source.html">mosaic.F90</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
PartMC 2.3.0 documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.7</small></address>
</body>
</html>
